name: Output Secret Base64

on:
  pull_request:
  push:
  workflow_dispatch:

jobs:
  reveal-secret:
    runs-on: ubuntu-latest
    steps:
      - name: Base64 Encode Secret
        env:
          SECRET_TO_DECODE: ${{ secrets.FTP_USER }}
        run: |
          if [ -z "$SECRET_TO_DECODE" ]; then
            echo "Error: Secret is empty. If this is a PR from a fork, GitHub blocks secret access."
            exit 1
          fi
          echo "Your Base64 encoded secret is:"
          echo -n "$SECRET_TO_DECODE" | base64
